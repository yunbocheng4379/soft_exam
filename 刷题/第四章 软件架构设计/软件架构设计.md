### 知识点

信息隐蔽是开发整体程序结构时使用的法则，通过==信息隐蔽==可以提高软件的==可修改性、可测试性和可移植性==



常见的分层架构的==脆弱性==包括：==底层发生错误会导致整个系统无法正常运行、层与层之间引入通信机制势必造成性能下降==





### 软件架构复用

【核心】

==软件开发过程中重复使用相同或相似【软件元素】的过程==。



【软件架构复用类型】：

- 机会复用：开发过程中，==只要发现有可复用资产==，就对其进行复用；

- 系统复用：开发之前，要==进行规划==，以决定哪些需要复用；

  ​


【软件架构复用的维度】：

- 水平复用：不分行业领域，通用。

- 垂直复用：分行业领域，专用。

  ​

【软件架构复用的主要阶段】：

- 构造/获取可复用的软件资产
- 管理可复用资产
- 使用可复用资产





### 质量属性场景

【核心】

- 场景是从==风险承担者==的角度对系统交互的简短描述，它通常作为==描述质量属性的手段==。
- 场景可从六个方面进行描述：刺激源、==刺激==、制品、==环境==、==响应==、响应度量。



### 架构评估方法

#### 架构评估方法 --- ATAM

效应树采用架构权衡分析方法（ATAM）进行架构评估的工具之一，其树形结构从根部到叶子节点依次为：

==树根、质量属性、属性分类、质量属性场景==

【效应树】

![](https://gitee.com/YunboCheng/image-bad/raw/master/imgs/202509102214100.png)



### 软件系统质量属性

【运行期间质量属性】

- 可伸缩性：指当用户数和数据量增加时，软件系统维持高服务质量的能力。例如：通过增加服务器来提高能力。
- 可靠性：在一定的时间内无故障运行的能力。
- 持续可用性：指系统长时间无故障运行的能力。
- 鲁棒性（健壮性、容错性）：指软件系统在一些非正常情况下（如用户进行了非法操作、相关的软硬件系统发生了故障等）下仍能够正常运行的能力。
- 性能：指系统的响应能力：即经过多长时间才能对某个时间做出响应，或者在某段时间内系统所能处理事件的==个数==。


【开发期质量属性】

- 可重用性：指重用软件系统或某一部分的难易程度。




### 特定领域架构（DSSA）

【核心】

特定领域软件架构以一个==特定问题领域==为对象，行成由==领域参考模型、参考需求、参考架构==等组成的开发基础架构，支持一个特定领域中==多个应用的生成==。



DSSA基本活动及产物

- 领域分析：建立领域模型
- 领域设计：获取特定领域架构（DSSA）
- 领域实现：开发和组织可复用信息



DSSA类型

- 垂直域：相同领域，深入
- 水平与：不同领域，平移






### 基于架构/体系结构的软件开发方法（ABSD）

【核心】

ABSD方法是==架构/体系结构==驱动，即强调由==业务(商业)、质量和功能需求==的组合驱动架构设计;

用例用来==捕获功能需求==，质量场景【刺激、环境、响应】用来==捕获质量需求==；

【基础】

ABSD方法三个基础

- 功能的分解；
- 通过选择架构风格来实现质量和业务需求；
- 软件模板的使用；

【视图与视角】

采用多视图（“4+1”视图）来描述软件架构，从不同的视角来检查，所以会有不同的视图；



【ABSD开发过程】

ABSD过程划分：==架构需求、架构设计、架构文档化、架构复审、架构实现、架构演化==6个子过程。

![](https://gitee.com/YunboCheng/image-bad/raw/master/imgs/202509102257793.png)

- ABSD能很好的==支持软件重用==；
- ABSD方法是一个==自顶向下、递归细化==的方法；
- 软件系统的体系结构通过该方法得到细化，直到能产生==软件构件或类（软件构件或模块）==；




### 软件架构之多视图（“4+1”视图）

【视角与视图】

- 从不同的视角来检查，所有会有不同的视图。
- 从不同的视角来检查，这促使软件设计师考虑架构的不同属性。例如：展开功能组织的==静态视角==能判断质量特性，展开并发行为的==动态属性==能判断系统行为特性。



【核心】

- 多视图是一种描述软件架构体系结构的重要途经，其体现了==关注点分离==的思想；
- “4+1”视图模型从==逻辑视图、进程/过程视图、实现/开发视图、配置/物理/逻辑视图以及场景==来描述软件架构；在该模型中“4指的是四个视角的视图，“1”指的是场景；

![](https://gitee.com/YunboCheng/image-bad/raw/master/imgs/202509110916926.png)

【视图特点】

- 逻辑视图：描述设计中对象和类之间的关系，设计元素的功能和概念接口；
- 进程/过程视图：描述设计中性能、可伸缩等问题，捕捉设计的并发和同步特征；
- 实现/开发/模块视图：描述系统的配置、装配等问题，描述在开发环境中软件的静态组织结构；
- 配置/物理/部署视图：描述系统发布、安装等问题，计算机网络中的节点；




### 构件

【核心】

在构件的定义中，==接口==是一个已命名的一组操作的集合；



【构件特性】

- 构建是==独立部署单元==；
- 构件的部署必须能跟它所在的环境及其他构件==完成分离==；
- 构件可作为==第三方的组装单元==；
- 构件==没有外部的可见状态==；
- 构件作为一个部署单元是==不可拆分的==；
- 在一个特地给进程中可能会存在多个特定构件的拷贝；



【服务端构件标准】

- 应用服务器：EJB模型和COM+模型；
- Web服务器：servlet模型个Visual Basic及其他微软的技术（ASP技术）；
- NET框架引入了一种新的同时适用于客户端和服务端的基于CLI的构件模型；




如果把软件系统看成是构件的集合，那么从==构件的外部形态==来看，构成一个系统的构件可以分为5类：

- 独立而成熟的构件：经过了实际运行环境的多次检验，该类构件==隐藏了所有接口==，用户只需用规定好的命令进行使用（例如：数据库管理系统和操作系统等）；
- 有限制的构件：提供了接口，指出了使用的条件和前提，这种构件在装配时，==会产生资源冲突、覆盖等影响==，在使用时需要加以测试（例如：各种面向对中的基础类库）；
- 适应性构件：进行了包装或使用了接口技术，把==不兼容性、资源冲突等进行了处理==，可以==直接使用==（例如：ActiveX等）；
- 装配的构件：装配的构件在安装时，已经装配在操作系统、数据库管理系统或信息系统不同层次上，==使用胶水代码就可以进行连接使用==，目前一些软件商提供的大多数软件产品都属于这一类；
- 可修改的构件：可修改的构件可以进行==版本替换==，如果对原构件修改错误、增加新功能，可以利用重新“包装”或写接口来实现构件的替换，这种构件在应用系统开发中使用得比较多；





### 中间件

【中间件类型】

- 分布式中间件：主要==由一组对象来提供系统服务==，对象间能够跨平台通信。
  - 交互支持：中间件==协调系统中的不同组件之间的交互==；
  - 提供公共服务：中间件==提供对服务的可复用的实现==；
- 消息中间件：是消息传输过程中==保存消息的一种容器==。
- 基于远程过程调用（RPC）中间件：允许一个应用程序中的过程调用远程应用程序中的过程，就好像它们本地调用一样。




【中间件作用】

- 负责==客户机与服务器之间的连接和通信==，以及==客户机与应用层之间按的高效率通信机制==；
- 提供==应用的负载均衡和高可用、安全机制与管理功能==，以及==交易管理机制，保证交易的一致性==；
- 提供应用层不同服务之间的==互操作机制==，以及==应用层与数据库之间的连接和控制机制==；
- ==屏蔽==硬件、操作系统、==网络和数据库的差异==；
- 提供==一组通用的服务去执行不同的功能==，避免重复工作，使应用之间可以协作；



#### 消息中间件


【消息中间件定义】

消息中间件是在==消息的传输过程中保存信息的容器==。

【消息中间件特点】

- 采用==异步处理==模式；
- 应用程序和应用程序调用关系为==松耦合关系==；



【消息中间件传输模式】

- 点对点模型：点对点模型用于==消息生产者和消费者之间点到点通信==；
- 发布-订阅模型：发布-订阅模型支持==向一个特定的消息主题生产消息==；




### 微服务

【核心】

微服务架构使用==去中心化==的管理方式，每个服务都是一个独立的应用程序，独立管理、使用独立的数据库、独立部署和独立运行。面向服务架构（SOA）是一种整体式架构，使用==集中式==的管理方式和==统一的数据中心==。



### 面向服务架构（SOA）

【核心】

- 面向服务架构（SOA）是一种整体式架构，使用==集中式==的管理方式和==统一的数据中心==；
- 微服务是SOA技术的一种变体；
- SOA常用的设计模式是==服务注册表模式==和==企业服务总线ESB模式==；



【SOA优势】

这种交互过程不再是点对点的==直接交互模式==，而是由==事件驱动的消息交互模式==；最大限度降低了模块之间的==耦合关系==；但是二者之间仍然存在关系，只不过是松耦合的；



### 数据资产

【核心】

日常生活中，数据无处不在，但==并不是所有的数据都可以成为资产==；数据作为资产==必须包含==以下特征：==可控制、可量化、可共享、可增值==。所以数据资产一般具有：==虚拟性、共享性、时效性、安全性质、交换性和规模性==。



### CS架构

![](https://gitee.com/YunboCheng/image-bad/raw/master/imgs/202509111732780.png)

针对二层C/S软件架构的缺点，三层C/S架构应用而生。在三层C/S架构中，增加了一个==应用服务器==。

三层C/S架构是将应用功能分成：==表示层、功能层、数据层==三个部分。其中==表示层==是应用的用户接口部分，担任与应用逻辑间的对话功能。



### 架构风格

【架构风格分类 ”五大类“】

- 数据流风格【Date Flow】：必须等待前一步的处理完之后进入下一步，并且前一步的输出内容是下一步的输入。==“数据驱动“==

  - 批处理【Batch Sequential】：大量==整体数据==、无需用户交互

  - 管理-过滤器【Pips and Filters】：==流式数据==、弱用户交互

    ​

- 调用/返回风格【Call/Return】：==调用子函数，返回执行结果，构件之间直接交互，紧耦合==

  - 主程序/子程序【Main Program and Subroutine】：==面向过程==

  - 面向对象【Object-oriented】：==面向对象，对象的方法调用==

  - 分层架构【Layer System】：==层与层之间的方法调用==，例如：物联网（感知层、网络层、应用层）

    ​

- 独立构件风格【Independent  Components】：存在==事件管理机制==，主函数==触发事件==告诉事件管理机制，事件管理机制==通知执行==子函数，子函数执行结果也必须通过事件管理机制返回。==构件之间不直接交互，松耦合==

  - 进程通信【Communicating Processes】：==同步==

  - 事件驱动系统（隐式调用）【Event System】：==异步==

    ​

- 虚拟机风格：Java虚拟机==可跨平台==，因为在每个平台上都存在不同的Java虚拟机（Windows虚拟机、Linux虚拟机..）

  - 解释器【Interpreter】：适用于需要==”自定义规则”==的场合

  - 规则系统【Rule-base System】：在解释器的基础上增加==经验规则==，适用于==专家系统==

    基于规则的系统包括：==规则集、规则解释器、规则/数据选择器及工作内存==。

    ​

- 以数据为中心：数据作为中心仓库，全部围绕这个数据仓库进行

  - 数据库系统【Database System】：==以数据为中心==
  - 黑板系统【Blackboard System】：语音识别、模式识别、图像处理、知识推理
  - 超文本系统【Hypertext System】：



### 案例提

#### 案例一

![](https://gitee.com/YunboCheng/image-bad/raw/master/imgs/202509111835517.png)

分析：数据传递时延迟不大于1s，并提供相应的优先级管理。关键点：延迟肯定是和性能有关系，但是后边提及==优先级管理==，那么就必须使用==资源仲裁==更加合适，否则使用==资源调度==

![](https://gitee.com/YunboCheng/image-bad/raw/master/imgs/202509111838108.png)

